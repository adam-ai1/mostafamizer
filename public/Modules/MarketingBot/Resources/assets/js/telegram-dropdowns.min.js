"use strict";$(document).ready((function(){function e(e){const s=$(e.containerSelector).find(e.checkboxSelector),t=$(e.buttonSelector);if(0===s.length)return void t.text(jsLang("Select All"));const o=s.length===s.filter(":checked").length;t.text(o?jsLang("Unselect All"):jsLang("Select All"))}function s(){e({containerSelector:"#groups-container",checkboxSelector:".group-checkbox",buttonSelector:"#groups-select-all"})}function t(){e({containerSelector:"#subscribers-container",checkboxSelector:".subscriber-checkbox",buttonSelector:"#subscribers-select-all"})}$("#groups-button").on("click",(function(e){e.stopPropagation(),e.preventDefault();const t=$("#groups-dropdown"),o=$(".groups-arrow"),n=t.hasClass("hidden");$(".voice-dropdown-content").not(t).addClass("hidden"),$(".groups-arrow, .subscribers-arrow").removeClass("rotate-180"),n?(t.removeClass("hidden"),o.addClass("rotate-180"),s()):(t.addClass("hidden"),o.removeClass("rotate-180"))})),$("#subscribers-button").on("click",(function(e){e.stopPropagation(),e.preventDefault();const s=$("#subscribers-dropdown"),o=$(".subscribers-arrow"),n=s.hasClass("hidden");$(".voice-dropdown-content").not(s).addClass("hidden"),$(".groups-arrow, .subscribers-arrow").removeClass("rotate-180"),n?(s.removeClass("hidden"),o.addClass("rotate-180"),t()):(s.addClass("hidden"),o.removeClass("rotate-180"))})),$("#groups-select-all").on("click",(function(e){e.stopPropagation(),e.preventDefault();const t=$("#groups-container").find(".group-checkbox");if(t.length>0&&t.length===t.filter(":checked").length)t.prop("checked",!1),$("#groups-hidden-input").val(""),$("#groups-display").text(jsLang("Select Group"));else{t.prop("checked",!0);const e=t.map((function(){return $(this).val()})).get();$("#groups-hidden-input").val(e.join(",")),e.length>0?$("#groups-display").text(e.length+" "+jsLang("groups selected")):$("#groups-display").text(jsLang("Select Group"))}s()})),$(document).on("change","#groups-container .group-checkbox",(function(){s()})),$("#subscribers-select-all").on("click",(function(e){e.stopPropagation(),e.preventDefault();const s=$("#subscribers-container").find(".subscriber-checkbox");if(s.length>0&&s.length===s.filter(":checked").length)s.prop("checked",!1),$("#subscribers-hidden-input").val(""),$("#subscribers-display").text(jsLang("Select Subscriber"));else{s.prop("checked",!0);const e=s.map((function(){return $(this).val()})).get();$("#subscribers-hidden-input").val(e.join(",")),e.length>0?$("#subscribers-display").text(e.length+" "+jsLang("subscribers selected")):$("#subscribers-display").text(jsLang("Select Subscriber"))}t()})),$(document).on("change","#subscribers-container .subscriber-checkbox",(function(){t()})),$(document).on("click",(function(e){const s=e.target,t=$("#groups-button"),o=$("#groups-dropdown"),n=$("#subscribers-button"),r=$("#subscribers-dropdown"),c=t[0],a=o[0],i=n[0],l=r[0],d=c&&c.contains(s)||a&&a.contains(s),u=i&&i.contains(s)||l&&l.contains(s);d||o.hasClass("hidden")||(o.addClass("hidden"),$(".groups-arrow").removeClass("rotate-180")),u||r.hasClass("hidden")||(r.addClass("hidden"),$(".subscribers-arrow").removeClass("rotate-180"))}))}));