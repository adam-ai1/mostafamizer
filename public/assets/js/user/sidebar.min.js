"use strict";function toggleSideNav(){let e=document.querySelector(".collapse-icon"),t=document.querySelector(".close"),a=document.querySelector("#sidenav"),o=document.querySelector("#overlay"),i=[a,o];e.addEventListener("click",(function(e){i.forEach((e=>e.classList.add("active")))})),[o,t].forEach((function(e){e.addEventListener("click",(function(e){i.forEach((e=>e.classList.remove("active")))}))}))}function checkWindowWidth(){window.innerWidth<992&&toggleSideNav()}checkWindowWidth(),window.addEventListener("resize",(function(){checkWindowWidth()}));var shrink_btn=document.querySelector(".shrink-btn");shrink_btn&&shrink_btn.addEventListener("click",(()=>{document.body.classList.toggle("shrink"),"undefined"!=typeof moveActiveTab&&setTimeout(moveActiveTab,400),shrink_btn.classList.add("hovered"),setTimeout((()=>{shrink_btn.classList.remove("hovered")}),500)}));const STORAGE_KEY="sidebar_category_states",BADGE_STORAGE_KEY="new_badges_hidden";function getSavedCategoryStates(){try{const e=localStorage.getItem(STORAGE_KEY);return e?JSON.parse(e):{}}catch(e){return{}}}function saveCategoryState(e,t){try{const a=getSavedCategoryStates();a[e]=t,localStorage.setItem(STORAGE_KEY,JSON.stringify(a))}catch(e){}}function expandCategory(e,t=!0){const a=e.nextElementSibling;if(!a)return;const o=e.querySelector(".category-arrow"),i=e.getAttribute("data-category-name");a.style.maxHeight=a.scrollHeight+"px",o&&o.classList.add("rotate-180"),e.classList.add("active-category"),t&&i&&saveCategoryState(i,!0),setTimeout((()=>{a.offsetHeight>0&&(a.style.maxHeight=a.scrollHeight+"px")}),100)}function collapseCategory(e,t=!0){const a=e.nextElementSibling;if(!a)return;const o=e.querySelector(".category-arrow"),i=e.getAttribute("data-category-name");a.style.maxHeight="0px",o&&o.classList.remove("rotate-180"),e.classList.remove("active-category"),t&&i&&saveCategoryState(i,!1)}function toggleSidebarCategory(e){if(!e)return;const t=e.nextElementSibling;if(!t)return;t.scrollHeight>0&&t.offsetHeight>0?collapseCategory(e):expandCategory(e)}function isBadgeHidden(e){try{const t=localStorage.getItem(BADGE_STORAGE_KEY);if(!t)return!1;const a=JSON.parse(t);return Array.isArray(a)&&a.includes(e)}catch(e){return!1}}function hideBadge(e){try{const t=localStorage.getItem(BADGE_STORAGE_KEY);let a=t?JSON.parse(t):[];Array.isArray(a)||(a=[]),a.includes(e)||(a.push(e),localStorage.setItem(BADGE_STORAGE_KEY,JSON.stringify(a)));const o=document.querySelector(`.new-badge[data-item-id="${e}"]`);o&&(o.style.display="none")}catch(e){}}function updateActiveCategory(){const e=document.querySelectorAll(".category-header"),t=window.location.href,a=window.location.pathname;e.forEach((e=>{const o=e.nextElementSibling;if(!o)return;let i=!1;if(o.querySelector(".main-menu.active")&&(i=!0),!i){o.querySelectorAll(".main-menu").forEach((e=>{(e.classList.contains("active")||e.classList.contains("bg-color-F6")||e.classList.contains("border-design-1"))&&(i=!0);const o=e.querySelector("a");if(o){const n=o.getAttribute("href");if(n)try{const o=new URL(n,window.location.origin);(o.pathname===a||t.includes(o.pathname))&&(i=!0,e.classList.contains("active")||e.classList.add("active"))}catch(o){(t.includes(n)||n===a)&&(i=!0,e.classList.contains("active")||e.classList.add("active"))}}}))}if(i){e.classList.add("active-category");o.scrollHeight>0&&o.offsetHeight>0||expandCategory(e,!1)}else e.classList.remove("active-category")}))}window.toggleSidebarCategory=toggleSidebarCategory,document.addEventListener("DOMContentLoaded",(function(){getSavedCategoryStates();const e=document.querySelectorAll(".category-header");let t=!1;e.forEach((e=>{e.getAttribute("data-category-name");const a=e.nextElementSibling;a&&a.querySelector(".main-menu.active")?(expandCategory(e,!1),e.classList.add("active-category"),t=!0):(collapseCategory(e,!1),e.classList.remove("active-category"))})),updateActiveCategory(),setTimeout(updateActiveCategory,50),setTimeout(updateActiveCategory,100),setTimeout(updateActiveCategory,300),setTimeout(updateActiveCategory,500);const a=document.querySelector(".main-menu.active");a&&setTimeout((()=>{a.scrollIntoView({behavior:"smooth",block:"nearest"})}),300),document.querySelectorAll(".main-menu a").forEach((e=>{e.addEventListener("click",(function(e){setTimeout((function(){updateActiveCategory()}),300)}))}));const o=new MutationObserver((function(e){let t=!1;e.forEach((function(e){if("attributes"===e.type&&"class"===e.attributeName){e.target.classList.contains("main-menu")&&(t=!0)}"childList"===e.type&&(t=!0)})),t&&setTimeout(updateActiveCategory,50)}));document.querySelectorAll(".main-menu, .category-items").forEach((e=>{o.observe(e,{attributes:!0,attributeFilter:["class"],childList:!0,subtree:!0})}));let i=window.location.href,n=window.location.pathname;setInterval((function(){window.location.href===i&&window.location.pathname===n||(i=window.location.href,n=window.location.pathname,updateActiveCategory(),setTimeout((function(){updateActiveCategory()}),50),setTimeout((function(){updateActiveCategory()}),100),setTimeout((function(){updateActiveCategory()}),300),setTimeout((function(){updateActiveCategory()}),500))}),200),window.addEventListener("focus",(function(){setTimeout(updateActiveCategory,100)})),document.querySelectorAll(".new-badge").forEach((e=>{const t=e.getAttribute("data-item-id");t&&isBadgeHidden(t)&&(e.style.display="none")})),document.querySelectorAll(".new-badge").forEach((e=>{e.addEventListener("click",(function(){const e=this.getAttribute("data-item-id");e&&hideBadge(e)}))})),document.querySelectorAll("a[href]").forEach((e=>{e.addEventListener("click",(function(){const e=this.closest(".main-menu");if(e){const t=e.querySelector(".new-badge");if(t){const e=t.getAttribute("data-item-id");e&&hideBadge(e)}}}))}));let c=0,r=0;e.forEach((e=>{e.addEventListener("touchstart",(function(e){c=e.touches[0].clientX,r=e.touches[0].clientY}),{passive:!0}),e.addEventListener("touchend",(function(e){if(!c||!r)return;const t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY,o=c-t,i=r-a;if(Math.abs(o)>Math.abs(i)&&Math.abs(o)>50){const e=this.nextElementSibling,t=e.scrollHeight>0&&e.offsetHeight>0;o>0&&!t?expandCategory(this):o<0&&t&&collapseCategory(this)}c=0,r=0}),{passive:!0})}))}));